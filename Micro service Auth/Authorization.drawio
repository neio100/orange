<mxfile host="app.diagrams.net" modified="2021-10-05T14:14:07.734Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.61 Safari/537.36" etag="eMNQ545tURFKPksdiM7Q" version="15.4.0" type="github" pages="12">
  <diagram name="Page-1" id="9361dd3d-8414-5efd-6122-117bd74ce7a7">
    <mxGraphModel dx="1438" dy="947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="69" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="-10" y="-10" width="1160" height="1250" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-128" value="" style="fillColor=#CCD5EB" parent="1" vertex="1">
          <mxGeometry x="60.599999999999994" y="840" width="1009.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-96" value="" style="fillColor=#CCD5EB" parent="1" vertex="1">
          <mxGeometry x="60.599999999999994" y="480" width="1009.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="20" value="" style="fillColor=#CCD5EB" parent="1" vertex="1">
          <mxGeometry x="60.6" y="120" width="1009.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="2" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="3" value="/GET&#xa;Authorization: {}" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="342.5" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7" value="APIM Ext Cache" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="295" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="7" target="6" edge="1">
          <mxGeometry x="272.3350694444445" y="165" width="100" height="100" as="geometry">
            <mxPoint x="347.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="347.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="1" edge="1">
          <mxGeometry x="220" y="92" width="100" height="100" as="geometry">
            <mxPoint x="210" y="179.5" as="sourcePoint" />
            <mxPoint x="340" y="179.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="11" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1" parent="1" edge="1">
          <mxGeometry x="220" y="172.25887345679013" width="100" height="100" as="geometry">
            <mxPoint x="210" y="259.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="259.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="12" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1" parent="1" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="110" y="279.7588734567901" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="13" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;dashed=1" parent="1" edge="1">
          <mxGeometry x="385.45524691358025" y="113.91550925925924" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="201.20563271604937" as="sourcePoint" />
            <mxPoint x="462.5" y="201.20563271604937" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="15" value="Azure Function&#xa;Validation Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="462.2839506172839" y="169.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="16" value="" style="edgeStyle=none;endArrow=none" parent="1" source="15" target="17" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="17" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="509.7839506172839" y="244.3942901234568" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="19" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;startArrow=none;" parent="1" source="20" target="17" edge="1">
          <mxGeometry x="350" y="290" width="100" height="100" as="geometry">
            <mxPoint x="350" y="390" as="sourcePoint" />
            <mxPoint x="450" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="21" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="670" y="269.3942901234568" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="22" value="Redis &#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="622.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="23" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0.61;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="22" target="YcMqrONaZRclPtUl02mj-128" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="675" y="580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="24" value="PING via WSO2" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="750" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="25" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="24" target="26" edge="1">
          <mxGeometry x="727.3350694444446" y="165" width="100" height="100" as="geometry">
            <mxPoint x="802.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="802.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="26" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="797.4999999999999" y="289.3942901234568" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="27" value="validate()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="1" source="17" target="21" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="640" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="28" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="1" source="21" target="17" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="280" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="593" y="348" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="33" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="1" source="4" target="2" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="34" value="validate()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="1" edge="1">
          <mxGeometry x="550" y="261.7361111111111" width="100" height="100" as="geometry">
            <mxPoint x="680" y="291.1304012345679" as="sourcePoint" />
            <mxPoint x="797.4999999999999" y="291.1304012345679" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="35" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="1" edge="1">
          <mxGeometry x="560" y="309.65277777777777" width="100" height="100" as="geometry">
            <mxPoint x="797.4999999999999" y="329.0470679012346" as="sourcePoint" />
            <mxPoint x="680" y="329.0470679012346" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="38" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="1" edge="1">
          <mxGeometry x="932.2588734567901" y="240" width="100" height="100" as="geometry">
            <mxPoint x="802.2588734567901" y="329.3942901234568" as="sourcePoint" />
            <mxPoint x="802.2588734567901" y="370" as="targetPoint" />
            <Array as="points">
              <mxPoint x="802.2588734567901" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="39" value="" style="ellipse;fillColor=none" parent="1" vertex="1">
          <mxGeometry x="802.5000000000001" y="304.3942901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="40" value=" - user token&#xa; validation&#xa;&#xa; - Response with &#xa;User principle and &#xa;group membership" style="shape=note;align=left" parent="1" vertex="1">
          <mxGeometry x="829.9729938271605" y="180.17361111111111" width="120.02700617283949" height="109.82638888888889" as="geometry" />
        </mxCell>
        <mxCell id="41" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="40" target="39" edge="1">
          <mxGeometry x="1030" y="180" width="100" height="100" as="geometry">
            <mxPoint x="1030" y="280" as="sourcePoint" />
            <mxPoint x="1130" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="42" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="43" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=right" parent="1" source="17" target="42" edge="1">
          <mxGeometry x="190" y="329.75887345679007" width="100" height="100" as="geometry">
            <mxPoint x="500" y="310" as="sourcePoint" />
            <mxPoint x="220" y="370" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-161" value="&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22Header%20Populated%20with%20USER_ID%26lt%3Bbr%26gt%3Band%20Authorization%20details%22%20style%3D%22edgeLabel%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3B%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22327.78395061728406%22%20y%3D%221089.571428571429%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3EH&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="43" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-35" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-162" value="Header populated with USER_ID and Authorization details" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="43" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="19" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="44" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="1" source="2" target="42" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="46" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=none" parent="1" source="42" edge="1">
          <mxGeometry x="60" y="310" width="100" height="100" as="geometry">
            <mxPoint x="60" y="410" as="sourcePoint" />
            <mxPoint x="150" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="47" value="{100..600ms}" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181.20563271604937" y="280" as="sourcePoint" />
            <mxPoint x="181.20563271604937" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="52" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="6" edge="1">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="451.7361111111112" y="284.6971450617284" as="sourcePoint" />
            <mxPoint x="347.5" y="464.1666666666665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="65" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="71" value="API Token&#xa;  Authentication / Authorization" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="72" value="Flow 1" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="152.5" y="420" width="87.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-89" value="-Response caching /GET&#xa;&#xa;-Vary by Authorization Token&#xa;&#xa;- Option to Populate HEADER &#xa;    with USER_ID + CLAIMS" style="shape=note;align=left" parent="1" vertex="1">
          <mxGeometry x="420" y="30" width="170" height="120" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-93" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" parent="1" source="YcMqrONaZRclPtUl02mj-94" target="YcMqrONaZRclPtUl02mj-89" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-94" value="" style="ellipse;fillColor=none" parent="1" vertex="1">
          <mxGeometry x="352.5000000000001" y="180.1742901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-95" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;" parent="1" source="6" target="20" edge="1">
          <mxGeometry x="350" y="290" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="252" as="sourcePoint" />
            <mxPoint x="509.78395061728384" y="252" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-97" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="200" y="510" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-98" value="/GET&#xa;Authorization: {}" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="1" edge="1">
          <mxGeometry x="110" y="409.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="509.5" as="sourcePoint" />
            <mxPoint x="200" y="509.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-99" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="342.5" y="540" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-100" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="1" edge="1">
          <mxGeometry x="220" y="452" width="100" height="100" as="geometry">
            <mxPoint x="210" y="539.5" as="sourcePoint" />
            <mxPoint x="340" y="539.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-101" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1" parent="1" edge="1">
          <mxGeometry x="220" y="532.2588734567901" width="100" height="100" as="geometry">
            <mxPoint x="210" y="619.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="619.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-102" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1" parent="1" edge="1">
          <mxGeometry x="110" y="539.7588734567901" width="100" height="100" as="geometry">
            <mxPoint x="110" y="639.7588734567901" as="sourcePoint" />
            <mxPoint x="200" y="639.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-103" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;dashed=1;entryX=0.293;entryY=0.097;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="YcMqrONaZRclPtUl02mj-109" edge="1">
          <mxGeometry x="385.45524691358025" y="473.91550925925924" width="100" height="100" as="geometry">
            <mxPoint x="353" y="568" as="sourcePoint" />
            <mxPoint x="462.5" y="561.2056327160494" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-109" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="797.5" y="550" width="10" height="190" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-114" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="1" edge="1">
          <mxGeometry x="932.2588734567901" y="600" width="100" height="100" as="geometry">
            <mxPoint x="802.2588734567898" y="689.3942901234568" as="sourcePoint" />
            <mxPoint x="802.2588734567898" y="729.9999999999998" as="targetPoint" />
            <Array as="points">
              <mxPoint x="802.2588734567901" y="710" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-115" value="" style="ellipse;fillColor=none" parent="1" vertex="1">
          <mxGeometry x="802.5000000000001" y="664.3942901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-116" value=" - user token&#xa; validation&#xa;&#xa; - Authorization will be&#xa; in the base template code" style="shape=note;align=left" parent="1" vertex="1">
          <mxGeometry x="829.9729938271605" y="540.1736111111111" width="120.02700617283949" height="109.82638888888889" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-117" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="YcMqrONaZRclPtUl02mj-116" target="YcMqrONaZRclPtUl02mj-115" edge="1">
          <mxGeometry x="1030" y="540" width="100" height="100" as="geometry">
            <mxPoint x="1030" y="640" as="sourcePoint" />
            <mxPoint x="1130" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-118" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="200" y="720" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-119" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=right" parent="1" target="YcMqrONaZRclPtUl02mj-118" edge="1">
          <mxGeometry x="190" y="689.7588734567901" width="100" height="100" as="geometry">
            <mxPoint x="800" y="728" as="sourcePoint" />
            <mxPoint x="220" y="730" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-120" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="1" source="YcMqrONaZRclPtUl02mj-97" target="YcMqrONaZRclPtUl02mj-118" edge="1">
          <mxGeometry x="50" y="660" width="100" height="100" as="geometry">
            <mxPoint x="50" y="760" as="sourcePoint" />
            <mxPoint x="150" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-121" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=none" parent="1" source="YcMqrONaZRclPtUl02mj-118" edge="1">
          <mxGeometry x="60" y="670" width="100" height="100" as="geometry">
            <mxPoint x="60" y="770" as="sourcePoint" />
            <mxPoint x="150" y="719.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-122" value="{100..600ms}" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="1" edge="1">
          <mxGeometry x="61.20563271604938" y="650" width="100" height="100" as="geometry">
            <mxPoint x="181.20563271604942" y="640" as="sourcePoint" />
            <mxPoint x="181.20563271604942" y="719.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-123" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="YcMqrONaZRclPtUl02mj-99" edge="1">
          <mxGeometry x="376.5711805555559" y="699.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="451.7361111111112" y="644.6971450617284" as="sourcePoint" />
            <mxPoint x="347.5" y="824.1666666666665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-124" value="Flow 2" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="152.5" y="780" width="87.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-127" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;" parent="1" source="YcMqrONaZRclPtUl02mj-99" target="YcMqrONaZRclPtUl02mj-96" edge="1">
          <mxGeometry x="350" y="650" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="612" as="sourcePoint" />
            <mxPoint x="509.78395061728384" y="612" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-129" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="200" y="870" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-130" value="/GET&#xa;Authorization: {}" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="1" edge="1">
          <mxGeometry x="110" y="769.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="869.5" as="sourcePoint" />
            <mxPoint x="200" y="869.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-132" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;" parent="1" edge="1">
          <mxGeometry x="220" y="812" width="100" height="100" as="geometry">
            <mxPoint x="210" y="898" as="sourcePoint" />
            <mxPoint x="338" y="898" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-133" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1;exitX=0.676;exitY=0.853;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="YcMqrONaZRclPtUl02mj-129" edge="1">
          <mxGeometry x="220" y="892.2588734567901" width="100" height="100" as="geometry">
            <mxPoint x="210" y="979.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="980" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-134" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1" parent="1" edge="1">
          <mxGeometry x="110" y="899.7588734567901" width="100" height="100" as="geometry">
            <mxPoint x="110" y="999.7588734567901" as="sourcePoint" />
            <mxPoint x="200" y="999.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-136" value="Authorization &#xa;Micro Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="462.2839506172839" y="890" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-137" value="" style="edgeStyle=none;endArrow=none" parent="1" source="YcMqrONaZRclPtUl02mj-136" target="YcMqrONaZRclPtUl02mj-138" edge="1">
          <mxGeometry x="437.042824074074" y="990" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="940" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-138" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="509.78395061728384" y="964.3942901234568" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-139" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;startArrow=none;" parent="1" source="YcMqrONaZRclPtUl02mj-128" target="YcMqrONaZRclPtUl02mj-138" edge="1">
          <mxGeometry x="350" y="1010" width="100" height="100" as="geometry">
            <mxPoint x="350" y="1110" as="sourcePoint" />
            <mxPoint x="450" y="1010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-140" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="670" y="989.3942901234568" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-141" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="797.4999999999999" y="1009.3942901234568" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-142" value="validate()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="1" source="YcMqrONaZRclPtUl02mj-138" target="YcMqrONaZRclPtUl02mj-140" edge="1">
          <mxGeometry y="720" width="100" height="100" as="geometry">
            <mxPoint x="540" y="1090" as="sourcePoint" />
            <mxPoint x="640" y="990" as="targetPoint" />
            <Array as="points">
              <mxPoint x="590" y="990" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-143" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="1" source="YcMqrONaZRclPtUl02mj-140" target="YcMqrONaZRclPtUl02mj-138" edge="1">
          <mxGeometry x="550" y="1000" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="1000" as="sourcePoint" />
            <mxPoint x="680" y="1000" as="targetPoint" />
            <Array as="points">
              <mxPoint x="593" y="1068" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-144" value="validate()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="1" edge="1">
          <mxGeometry x="550" y="981.7361111111111" width="100" height="100" as="geometry">
            <mxPoint x="680" y="1011.1304012345679" as="sourcePoint" />
            <mxPoint x="797.5" y="1011.1304012345679" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-145" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="1" edge="1">
          <mxGeometry x="560" y="1029.6527777777778" width="100" height="100" as="geometry">
            <mxPoint x="797.5" y="1049.0470679012346" as="sourcePoint" />
            <mxPoint x="680" y="1049.0470679012346" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-146" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="1" edge="1">
          <mxGeometry x="932.2588734567901" y="960" width="100" height="100" as="geometry">
            <mxPoint x="802.2588734567898" y="1049.3942901234568" as="sourcePoint" />
            <mxPoint x="802.2588734567898" y="1089.9999999999998" as="targetPoint" />
            <Array as="points">
              <mxPoint x="802.2588734567901" y="1070" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-147" value="" style="ellipse;fillColor=none" parent="1" vertex="1">
          <mxGeometry x="802.5000000000001" y="1024.3942901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-148" value=" - user token&#xa; validation&#xa;&#xa; - Response with &#xa;User principle and &#xa;group membership" style="shape=note;align=left" parent="1" vertex="1">
          <mxGeometry x="829.9729938271605" y="900.1736111111111" width="120.02700617283949" height="109.82638888888889" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-149" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="YcMqrONaZRclPtUl02mj-148" target="YcMqrONaZRclPtUl02mj-147" edge="1">
          <mxGeometry x="1030" y="900" width="100" height="100" as="geometry">
            <mxPoint x="1030" y="1000" as="sourcePoint" />
            <mxPoint x="1130" y="900" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-150" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="200" y="1080" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-151" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=right" parent="1" source="YcMqrONaZRclPtUl02mj-138" target="YcMqrONaZRclPtUl02mj-150" edge="1">
          <mxGeometry x="190" y="1049.75887345679" width="100" height="100" as="geometry">
            <mxPoint x="500" y="1030" as="sourcePoint" />
            <mxPoint x="220" y="1090" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-159" value="Header Populated with USER_ID&lt;br&gt;and Authorization details" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="YcMqrONaZRclPtUl02mj-151" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-32" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-152" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="1" source="YcMqrONaZRclPtUl02mj-129" target="YcMqrONaZRclPtUl02mj-150" edge="1">
          <mxGeometry x="50" y="1020" width="100" height="100" as="geometry">
            <mxPoint x="50" y="1120" as="sourcePoint" />
            <mxPoint x="150" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-153" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=none" parent="1" source="YcMqrONaZRclPtUl02mj-150" edge="1">
          <mxGeometry x="60" y="1030" width="100" height="100" as="geometry">
            <mxPoint x="60" y="1130" as="sourcePoint" />
            <mxPoint x="150" y="1079.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-154" value="{100..600ms}" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="1" edge="1">
          <mxGeometry x="61.20563271604938" y="1010" width="100" height="100" as="geometry">
            <mxPoint x="181.20563271604942" y="1000" as="sourcePoint" />
            <mxPoint x="181.20563271604942" y="1079.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-155" value="Flow 3" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="152.5" y="1140" width="87.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-164" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="342.5" y="880" width="10" height="110" as="geometry" />
        </mxCell>
        <mxCell id="YcMqrONaZRclPtUl02mj-165" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="YcMqrONaZRclPtUl02mj-136" edge="1">
          <mxGeometry x="230" y="822" width="100" height="100" as="geometry">
            <mxPoint x="357" y="915" as="sourcePoint" />
            <mxPoint x="348" y="908" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Login Flow with PING" id="Iw6Wm7O26hB8B4KVgsti">
    <mxGraphModel dx="1438" dy="947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-0" />
        <mxCell id="cccn5QL6odSmSxgDo-ZI-1" parent="cccn5QL6odSmSxgDo-ZI-0" />
        <mxCell id="cccn5QL6odSmSxgDo-ZI-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="-10" y="-30" width="1160" height="740" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-5" value="" style="fillColor=#CCD5EB" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="60.6" y="120" width="1009.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-6" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-7" value="{POST}&#xa;/login&#xa;/validate&#xa;" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="cccn5QL6odSmSxgDo-ZI-1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-8" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-9" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="342.5" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-10" value="APIM Ext Cache" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="295" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-11" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-10" target="cccn5QL6odSmSxgDo-ZI-9" edge="1">
          <mxGeometry x="272.3350694444445" y="165" width="100" height="100" as="geometry">
            <mxPoint x="347.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="347.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-12" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="cccn5QL6odSmSxgDo-ZI-1" edge="1">
          <mxGeometry x="220" y="92" width="100" height="100" as="geometry">
            <mxPoint x="210" y="179.5" as="sourcePoint" />
            <mxPoint x="340" y="179.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-13" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1" parent="cccn5QL6odSmSxgDo-ZI-1" edge="1">
          <mxGeometry x="220" y="172.25887345679013" width="100" height="100" as="geometry">
            <mxPoint x="210" y="259.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="259.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-14" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1" parent="cccn5QL6odSmSxgDo-ZI-1" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="110" y="279.7588734567901" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-15" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;dashed=1;entryX=-0.178;entryY=0.099;entryDx=0;entryDy=0;entryPerimeter=0;" parent="cccn5QL6odSmSxgDo-ZI-1" target="cccn5QL6odSmSxgDo-ZI-18" edge="1">
          <mxGeometry x="385.45524691358025" y="113.91550925925924" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="201.20563271604937" as="sourcePoint" />
            <mxPoint x="462.5" y="201.20563271604937" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-16" value="JWT Validation&#xa; Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="462.2839506172839" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-17" value="" style="edgeStyle=none;endArrow=none" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-16" target="cccn5QL6odSmSxgDo-ZI-18" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-18" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="509.78" y="180" width="10" height="230" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-20" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="670" y="240" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-21" value="Redis &#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="622.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-22" value="" style="edgeStyle=none;endArrow=none;dashed=1;" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-21" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="676" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-23" value="PING / Azure AD" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="750" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-24" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-23" target="cccn5QL6odSmSxgDo-ZI-25" edge="1">
          <mxGeometry x="727.3350694444446" y="165" width="100" height="100" as="geometry">
            <mxPoint x="802.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="802.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-25" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="797.5" y="240" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-26" value="validate()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-18" target="cccn5QL6odSmSxgDo-ZI-20" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="640" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="250" />
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-27" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-20" target="cccn5QL6odSmSxgDo-ZI-18" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="280" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="593" y="348" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-28" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-8" target="cccn5QL6odSmSxgDo-ZI-6" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-29" value="validate()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="cccn5QL6odSmSxgDo-ZI-1" edge="1">
          <mxGeometry x="550" y="220.7361111111111" width="100" height="100" as="geometry">
            <mxPoint x="680" y="250.1304012345679" as="sourcePoint" />
            <mxPoint x="797.4999999999999" y="250.1304012345679" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-30" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="cccn5QL6odSmSxgDo-ZI-1" edge="1">
          <mxGeometry x="560" y="260.80277777777775" width="100" height="100" as="geometry">
            <mxPoint x="797.4999999999999" y="280.19706790123456" as="sourcePoint" />
            <mxPoint x="680" y="280.19706790123456" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-32" value="" style="ellipse;fillColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="802.5000000000001" y="260.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-33" value=" - user token&#xa; validation&#xa;&#xa; - Response with &#xa;User principle and &#xa;group membership" style="shape=note;align=left" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="840.0029938271605" y="470.0036111111111" width="120.02700617283949" height="109.82638888888889" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-34" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-33" target="cccn5QL6odSmSxgDo-ZI-32" edge="1">
          <mxGeometry x="1030" y="180" width="100" height="100" as="geometry">
            <mxPoint x="1030" y="280" as="sourcePoint" />
            <mxPoint x="1130" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-35" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-36" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=right" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-18" target="cccn5QL6odSmSxgDo-ZI-35" edge="1">
          <mxGeometry x="190" y="329.75887345679007" width="100" height="100" as="geometry">
            <mxPoint x="500" y="310" as="sourcePoint" />
            <mxPoint x="220" y="370" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-37" value="&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22Header%20Populated%20with%20USER_ID%26lt%3Bbr%26gt%3Band%20Authorization%20details%22%20style%3D%22edgeLabel%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3B%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22327.78395061728406%22%20y%3D%221089.571428571429%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3EH&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cccn5QL6odSmSxgDo-ZI-36" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-35" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-100" value="HEADER with CLAIMS&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cccn5QL6odSmSxgDo-ZI-36" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-67" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-39" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-6" target="cccn5QL6odSmSxgDo-ZI-35" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-40" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=none" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-35" edge="1">
          <mxGeometry x="60" y="310" width="100" height="100" as="geometry">
            <mxPoint x="60" y="410" as="sourcePoint" />
            <mxPoint x="150" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-41" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="cccn5QL6odSmSxgDo-ZI-1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181.20563271604937" y="280" as="sourcePoint" />
            <mxPoint x="181.20563271604937" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-42" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-9" edge="1">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="451.7361111111112" y="284.6971450617284" as="sourcePoint" />
            <mxPoint x="348" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-43" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="cccn5QL6odSmSxgDo-ZI-1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-44" value="API Token&#xa;  Authentication / Authorization" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-45" value="Initial Flow with valid PING Token" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="152.5" y="420" width="237.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-46" value="-Response caching /validate JWT&#xa;&#xa;-Valid PING or JWT token&#xa;&#xa;-If valid PING generate a JWT token &#xa;with same expiry as PING&#xa;&#xa;- Populate Request HEADER &#xa;    with USER_ID + CLAIMS and&#xa; forward request to backend K8 service.&#xa;&#xa;-APIM Response Header with JWT token" style="shape=note;align=left" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="597.5" y="470" width="222.5" height="230" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-47" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.722;exitY=0.946;exitDx=0;exitDy=0;exitPerimeter=0;" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-18" target="cccn5QL6odSmSxgDo-ZI-46" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-48" value="" style="ellipse;fillColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="519.7800000000001" y="390.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-49" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-9" target="cccn5QL6odSmSxgDo-ZI-5" edge="1">
          <mxGeometry x="350" y="290" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="252" as="sourcePoint" />
            <mxPoint x="509.78395061728384" y="252" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-101" value="Authorization DB&#xa;Claims DB" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="890" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-105" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-101" target="cccn5QL6odSmSxgDo-ZI-106" edge="1">
          <mxGeometry x="877.3350694444446" y="165.3" width="100" height="100" as="geometry">
            <mxPoint x="952.5" y="110.3" as="sourcePoint" />
            <mxPoint x="952.5761959876544" y="165.3" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-106" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="cccn5QL6odSmSxgDo-ZI-1" vertex="1">
          <mxGeometry x="940" y="280.15" width="10" height="49.69" as="geometry" />
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-108" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-20" edge="1">
          <mxGeometry x="942.2588734567901" y="250" width="100" height="100" as="geometry">
            <mxPoint x="812.2588734567898" y="339.3942901234568" as="sourcePoint" />
            <mxPoint x="675" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-111" value="getClaim()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;exitX=1;exitY=0.42;exitDx=0;exitDy=0;exitPerimeter=0;" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-20" edge="1">
          <mxGeometry x="692.5" y="265.2361111111111" width="100" height="100" as="geometry">
            <mxPoint x="822.5" y="294.6304012345679" as="sourcePoint" />
            <mxPoint x="940" y="294.6304012345679" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-112" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.72;entryY=0.62;entryDx=0;entryDy=0;entryPerimeter=0;" parent="cccn5QL6odSmSxgDo-ZI-1" source="cccn5QL6odSmSxgDo-ZI-106" target="cccn5QL6odSmSxgDo-ZI-20" edge="1">
          <mxGeometry x="560" y="290" width="100" height="100" as="geometry">
            <mxPoint x="680" y="358" as="sourcePoint" />
            <mxPoint x="700" y="320" as="targetPoint" />
            <Array as="points">
              <mxPoint x="940" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cccn5QL6odSmSxgDo-ZI-113" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="cccn5QL6odSmSxgDo-ZI-1" target="cccn5QL6odSmSxgDo-ZI-5" edge="1">
          <mxGeometry x="955.2588734567901" y="260" width="100" height="100" as="geometry">
            <mxPoint x="945.5" y="329.84000000000015" as="sourcePoint" />
            <mxPoint x="946" y="346.59848557055875" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Azure APIM Flow" id="3DAOSW5i8eEBeInL9sJi">
    <mxGraphModel dx="2130" dy="1312" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="beQlj7hG8X4FH7egZ1no-0" />
        <mxCell id="beQlj7hG8X4FH7egZ1no-1" parent="beQlj7hG8X4FH7egZ1no-0" />
        <mxCell id="beQlj7hG8X4FH7egZ1no-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="-10" y="-30" width="1010" height="670" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-3" value="" style="fillColor=#CCD5EB" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="60.6" y="120" width="819.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-4" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-5" value="{POST}&#xa;/login&#xa;/validate&#xa;" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="beQlj7hG8X4FH7egZ1no-1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-6" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-7" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="342.5" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-8" value="APIM Ext Cache&#xa;(Discuss and Remove)" style="shadow=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="285" y="60" width="125" height="50" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-9" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-8" target="beQlj7hG8X4FH7egZ1no-7" edge="1">
          <mxGeometry x="272.3350694444445" y="165" width="100" height="100" as="geometry">
            <mxPoint x="347.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="347.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-10" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="beQlj7hG8X4FH7egZ1no-1" edge="1">
          <mxGeometry x="220" y="92" width="100" height="100" as="geometry">
            <mxPoint x="210" y="179.5" as="sourcePoint" />
            <mxPoint x="340" y="179.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-11" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1" parent="beQlj7hG8X4FH7egZ1no-1" edge="1">
          <mxGeometry x="220" y="172.25887345679013" width="100" height="100" as="geometry">
            <mxPoint x="210" y="259.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="259.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-12" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1;entryX=0;entryY=1;entryDx=0;entryDy=0;" parent="beQlj7hG8X4FH7egZ1no-1" target="beQlj7hG8X4FH7egZ1no-31" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="130" y="410" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
            <Array as="points">
              <mxPoint x="170" y="410" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-13" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;dashed=1;entryX=-0.178;entryY=0.099;entryDx=0;entryDy=0;entryPerimeter=0;" parent="beQlj7hG8X4FH7egZ1no-1" target="beQlj7hG8X4FH7egZ1no-16" edge="1">
          <mxGeometry x="385.45524691358025" y="113.91550925925924" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="201.20563271604937" as="sourcePoint" />
            <mxPoint x="462.5" y="201.20563271604937" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-14" value="Enterprise Token &#xa;Validation &#xa;micro-Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="462.2839506172839" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-15" value="" style="edgeStyle=none;endArrow=none" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-14" target="beQlj7hG8X4FH7egZ1no-16" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-16" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="509.78" y="180" width="10" height="230" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-17" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="670" y="310" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-18" value="Redis &#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="622.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-19" value="" style="edgeStyle=none;endArrow=none;dashed=1;" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-18" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="676" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-20" value="WSO2/PING " style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="750" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-21" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-20" target="beQlj7hG8X4FH7egZ1no-22" edge="1">
          <mxGeometry x="727.3350694444446" y="165" width="100" height="100" as="geometry">
            <mxPoint x="802.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="802.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-22" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="797.5" y="240" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-23" value="save()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-16" target="beQlj7hG8X4FH7egZ1no-17" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="640" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="600" y="330" />
              <mxPoint x="640" y="250" />
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-24" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-17" target="beQlj7hG8X4FH7egZ1no-16" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="280" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="593" y="348" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-25" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-6" target="beQlj7hG8X4FH7egZ1no-4" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-26" value="validate()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;" parent="beQlj7hG8X4FH7egZ1no-1" edge="1">
          <mxGeometry x="550" y="220.7361111111111" width="100" height="100" as="geometry">
            <mxPoint x="516" y="250" as="sourcePoint" />
            <mxPoint x="797.4999999999999" y="250.1304012345679" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-27" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top;entryX=1.062;entryY=0.437;entryDx=0;entryDy=0;entryPerimeter=0;" parent="beQlj7hG8X4FH7egZ1no-1" edge="1" target="beQlj7hG8X4FH7egZ1no-16">
          <mxGeometry x="560" y="260.80277777777775" width="100" height="100" as="geometry">
            <mxPoint x="797.4999999999999" y="280.19706790123456" as="sourcePoint" />
            <mxPoint x="680" y="280.19706790123456" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-53" value="User Profile Data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="beQlj7hG8X4FH7egZ1no-27" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-10" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-28" value="" style="ellipse;fillColor=none" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="802.5000000000001" y="260.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-29" value=" - PING user token&#xa; validation&#xa;&#xa; - Response with &#xa;User Info by PING" style="shape=note;align=left" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="840.0029938271605" y="470.0036111111111" width="120.02700617283949" height="109.82638888888889" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-30" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-29" target="beQlj7hG8X4FH7egZ1no-28" edge="1">
          <mxGeometry x="1030" y="180" width="100" height="100" as="geometry">
            <mxPoint x="1030" y="280" as="sourcePoint" />
            <mxPoint x="1130" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-31" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-32" value="Generate JWT Token of User details and populate HEADER" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=center;labelPosition=center;" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-16" target="beQlj7hG8X4FH7egZ1no-31" edge="1">
          <mxGeometry x="190" y="329.75887345679007" width="100" height="100" as="geometry">
            <mxPoint x="500" y="310" as="sourcePoint" />
            <mxPoint x="220" y="370" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-33" value="&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22Header%20Populated%20with%20USER_ID%26lt%3Bbr%26gt%3Band%20Authorization%20details%22%20style%3D%22edgeLabel%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3B%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22327.78395061728406%22%20y%3D%221089.571428571429%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3EH&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="beQlj7hG8X4FH7egZ1no-32" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-35" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-35" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-4" target="beQlj7hG8X4FH7egZ1no-31" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-37" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="beQlj7hG8X4FH7egZ1no-1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181" y="150" as="sourcePoint" />
            <mxPoint x="181" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-38" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-7" edge="1">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="451.7361111111112" y="284.6971450617284" as="sourcePoint" />
            <mxPoint x="348" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-39" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="beQlj7hG8X4FH7egZ1no-1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-40" value="Azure APIM Authentication" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-41" value="Initial Flow with valid PING Token" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="152.5" y="420" width="237.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-42" value="&#xa;&#xa;-If valid PING token; generate a JWT token &#xa;with same expiry as PING token&#xa;&#xa;- Populate Request HEADER &#xa;    with JWT token and&#xa; forward request to backend services.&#xa;- Check validity of JWT token against &#xa;BlackList Registry.&#xa;" style="shape=note;align=left" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="597.5" y="470" width="232.5" height="140" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-43" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.722;exitY=0.946;exitDx=0;exitDy=0;exitPerimeter=0;" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-16" target="beQlj7hG8X4FH7egZ1no-42" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-44" value="" style="ellipse;fillColor=none" parent="beQlj7hG8X4FH7egZ1no-1" vertex="1">
          <mxGeometry x="519.7800000000001" y="390.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-45" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-7" target="beQlj7hG8X4FH7egZ1no-3" edge="1">
          <mxGeometry x="350" y="290" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="252" as="sourcePoint" />
            <mxPoint x="509.78395061728384" y="252" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="beQlj7hG8X4FH7egZ1no-49" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="beQlj7hG8X4FH7egZ1no-1" source="beQlj7hG8X4FH7egZ1no-17" edge="1">
          <mxGeometry x="942.2588734567901" y="250" width="100" height="100" as="geometry">
            <mxPoint x="812.2588734567898" y="339.3942901234568" as="sourcePoint" />
            <mxPoint x="675" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Azure B2C-PING Logoff" id="ZTBzR5QyJaZHfaQ82GME">
    <mxGraphModel dx="1621" dy="1044" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-0" />
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-1" parent="BclqZAeh4I1Vf4Uy_xhW-0" />
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="-10" y="-30" width="930" height="620" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-3" value="" style="fillColor=#CCD5EB" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="60.6" y="120" width="779.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-4" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-5" value="{POST}&#xa;/revoke" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="BclqZAeh4I1Vf4Uy_xhW-1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-6" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-10" value="revoke()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;entryX=-0.11;entryY=0.112;entryDx=0;entryDy=0;entryPerimeter=0;" parent="BclqZAeh4I1Vf4Uy_xhW-1" target="BclqZAeh4I1Vf4Uy_xhW-16" edge="1">
          <mxGeometry x="220" y="92" width="100" height="100" as="geometry">
            <mxPoint x="210" y="179.5" as="sourcePoint" />
            <mxPoint x="340" y="179.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-12" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1;entryX=0;entryY=1;entryDx=0;entryDy=0;" parent="BclqZAeh4I1Vf4Uy_xhW-1" target="BclqZAeh4I1Vf4Uy_xhW-32" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="130" y="410" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
            <Array as="points">
              <mxPoint x="170" y="410" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-14" value="Enterprise Token &#xa;Validation &#xa;micro-Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="330.00395061728386" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-15" value="" style="edgeStyle=none;endArrow=none" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-14" target="BclqZAeh4I1Vf4Uy_xhW-16" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-16" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="377.5" y="150" width="10" height="260" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-17" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="547.5" y="170" width="10" height="90" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-18" value="Redis &#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="500" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-19" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-18" target="BclqZAeh4I1Vf4Uy_xhW-17" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="676" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-20" value="WSO2/PING " style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="685" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-21" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-20" target="BclqZAeh4I1Vf4Uy_xhW-22" edge="1">
          <mxGeometry x="727.3350694444446" y="165" width="100" height="100" as="geometry">
            <mxPoint x="802.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="802.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-23" value="Remove the PING token from cache" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;exitX=1.091;exitY=0.126;exitDx=0;exitDy=0;exitPerimeter=0;" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-16" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="550" y="183" as="targetPoint" />
            <Array as="points">
              <mxPoint x="480" y="183" />
              <mxPoint x="460" y="200" />
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="26" y="-19" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-24" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top;" parent="BclqZAeh4I1Vf4Uy_xhW-1" target="BclqZAeh4I1Vf4Uy_xhW-16" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="550" y="235" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="510" y="235" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-25" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-6" target="BclqZAeh4I1Vf4Uy_xhW-4" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-26" value="PING /revoke" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="BclqZAeh4I1Vf4Uy_xhW-1" edge="1">
          <mxGeometry x="262.5" y="275.0261111111111" width="100" height="100" as="geometry">
            <mxPoint x="392.5" y="304.4204012345679" as="sourcePoint" />
            <mxPoint x="730" y="304" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-27" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top;startArrow=none;" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-22" edge="1">
          <mxGeometry x="560" y="260.80277777777775" width="100" height="100" as="geometry">
            <mxPoint x="797.4999999999999" y="280.19706790123456" as="sourcePoint" />
            <mxPoint x="390" y="340" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-32" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-33" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=center;labelPosition=center;" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-16" target="BclqZAeh4I1Vf4Uy_xhW-32" edge="1">
          <mxGeometry x="190" y="329.75887345679007" width="100" height="100" as="geometry">
            <mxPoint x="500" y="310" as="sourcePoint" />
            <mxPoint x="220" y="370" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-34" value="&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22Header%20Populated%20with%20USER_ID%26lt%3Bbr%26gt%3Band%20Authorization%20details%22%20style%3D%22edgeLabel%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3B%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22327.78395061728406%22%20y%3D%221089.571428571429%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3EH&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="BclqZAeh4I1Vf4Uy_xhW-33" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-35" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-35" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-4" target="BclqZAeh4I1Vf4Uy_xhW-32" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-36" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="BclqZAeh4I1Vf4Uy_xhW-1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181" y="150" as="sourcePoint" />
            <mxPoint x="181" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-38" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="BclqZAeh4I1Vf4Uy_xhW-1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-39" value="Azure APIM Authentication" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-40" value="Logoff / Token PING Revoke Flow" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="152.5" y="420" width="237.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-41" value="1. Remove the PING token from Redis Repository.&#xa;2. BlackList the JWT token in the  JWT Token Registry.&#xa;3.Invoke the WSO2/ PING /revoke to invalidate the &#xa;    PING token." style="shape=note;align=left" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="510" y="460" width="310" height="100" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-42" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;" parent="BclqZAeh4I1Vf4Uy_xhW-1" target="BclqZAeh4I1Vf4Uy_xhW-41" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="390" y="400" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-45" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-17" edge="1">
          <mxGeometry x="942.2588734567901" y="250" width="100" height="100" as="geometry">
            <mxPoint x="812.2588734567898" y="339.3942901234568" as="sourcePoint" />
            <mxPoint x="553" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="553" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-46" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-16" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="387.5" y="215" as="sourcePoint" />
            <mxPoint x="380" y="210.00429012345694" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-22" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="BclqZAeh4I1Vf4Uy_xhW-1" vertex="1">
          <mxGeometry x="732.5" y="290" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BclqZAeh4I1Vf4Uy_xhW-49" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top;endArrow=none;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="BclqZAeh4I1Vf4Uy_xhW-1" source="BclqZAeh4I1Vf4Uy_xhW-3" target="BclqZAeh4I1Vf4Uy_xhW-22" edge="1">
          <mxGeometry x="560" y="260.80277777777775" width="100" height="100" as="geometry">
            <mxPoint x="797.5" y="280.1970679012345" as="sourcePoint" />
            <mxPoint x="680" y="280.1970679012345" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Azure APIM Flow for B2C JWT Token" id="XlXNheNu8ueMkvgXSctb">
    <mxGraphModel dx="1438" dy="947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0uB336JdIJ9VOMtROhnp-0" />
        <mxCell id="0uB336JdIJ9VOMtROhnp-1" parent="0uB336JdIJ9VOMtROhnp-0" />
        <mxCell id="0uB336JdIJ9VOMtROhnp-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="-10" y="-30" width="880" height="630" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-3" value="" style="fillColor=#CCD5EB" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="60.6" y="120" width="739.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-4" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-5" value="{POST}&#xa;/login&#xa;/validate&#xa;" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="0uB336JdIJ9VOMtROhnp-1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-6" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-7" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="342.5" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-8" value="APIM Ext Cache&#xa;(Discuss and Remove)" style="shadow=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="285" y="60" width="125" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-9" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-8" target="0uB336JdIJ9VOMtROhnp-7" edge="1">
          <mxGeometry x="272.3350694444445" y="165" width="100" height="100" as="geometry">
            <mxPoint x="347.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="347.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-10" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="0uB336JdIJ9VOMtROhnp-1" edge="1">
          <mxGeometry x="220" y="92" width="100" height="100" as="geometry">
            <mxPoint x="210" y="179.5" as="sourcePoint" />
            <mxPoint x="340" y="179.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-11" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1" parent="0uB336JdIJ9VOMtROhnp-1" edge="1">
          <mxGeometry x="220" y="172.25887345679013" width="100" height="100" as="geometry">
            <mxPoint x="210" y="259.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="259.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-12" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1;entryX=0;entryY=1;entryDx=0;entryDy=0;" parent="0uB336JdIJ9VOMtROhnp-1" target="0uB336JdIJ9VOMtROhnp-32" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="130" y="410" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
            <Array as="points">
              <mxPoint x="170" y="410" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-13" value="validate, Azure B2C JWT Token" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;dashed=1;entryX=-0.178;entryY=0.099;entryDx=0;entryDy=0;entryPerimeter=0;" parent="0uB336JdIJ9VOMtROhnp-1" target="0uB336JdIJ9VOMtROhnp-16" edge="1">
          <mxGeometry x="385.45524691358025" y="113.91550925925924" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="201.20563271604937" as="sourcePoint" />
            <mxPoint x="462.5" y="201.20563271604937" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-14" value="Enterprise Token &#xa;Validation &#xa;micro-Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="462.2839506172839" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-15" value="" style="edgeStyle=none;endArrow=none" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-14" target="0uB336JdIJ9VOMtROhnp-16" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-16" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="509.78" y="180" width="10" height="230" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-17" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="670" y="240" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-18" value="Redis &#xa;JWT BlackList Token Registry&#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="591.25" y="60" width="167.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-19" value="" style="edgeStyle=none;endArrow=none;dashed=1;" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-18" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="676" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-23" value="Check JWT BlackList &#xa;Token Registry" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-16" target="0uB336JdIJ9VOMtROhnp-17" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="640" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="250" />
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-24" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-17" target="0uB336JdIJ9VOMtROhnp-16" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="280" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="593" y="348" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-25" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-6" target="0uB336JdIJ9VOMtROhnp-4" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-32" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-33" value="Generate JWT Token of User details and populate HEADER" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=center;labelPosition=center;" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-16" target="0uB336JdIJ9VOMtROhnp-32" edge="1">
          <mxGeometry x="190" y="329.75887345679007" width="100" height="100" as="geometry">
            <mxPoint x="500" y="310" as="sourcePoint" />
            <mxPoint x="220" y="370" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-34" value="&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22Header%20Populated%20with%20USER_ID%26lt%3Bbr%26gt%3Band%20Authorization%20details%22%20style%3D%22edgeLabel%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3B%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22327.78395061728406%22%20y%3D%221089.571428571429%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3EH&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="0uB336JdIJ9VOMtROhnp-33" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-35" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-35" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-4" target="0uB336JdIJ9VOMtROhnp-32" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-36" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="0uB336JdIJ9VOMtROhnp-1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181" y="150" as="sourcePoint" />
            <mxPoint x="181" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-37" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-7" edge="1">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="451.7361111111112" y="284.6971450617284" as="sourcePoint" />
            <mxPoint x="348" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-38" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="0uB336JdIJ9VOMtROhnp-1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-39" value="API Token&#xa;  Authentication / Authorization" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-40" value="Initial Flow with valid Azure AD B2C JWT Token" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="152.5" y="420" width="317.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-41" value="&#xa;-Validate Azure B2C JWT token.&#xa;&#xa;- Populate Request HEADER &#xa;    with JWT Token and&#xa; forward request to backend services..&#xa;" style="shape=note;align=left" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="597.5" y="470" width="202.5" height="90" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-42" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.722;exitY=0.946;exitDx=0;exitDy=0;exitPerimeter=0;" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-16" target="0uB336JdIJ9VOMtROhnp-41" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-43" value="" style="ellipse;fillColor=none" parent="0uB336JdIJ9VOMtROhnp-1" vertex="1">
          <mxGeometry x="519.7800000000001" y="390.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-44" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-7" target="0uB336JdIJ9VOMtROhnp-3" edge="1">
          <mxGeometry x="350" y="290" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="252" as="sourcePoint" />
            <mxPoint x="509.78395061728384" y="252" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0uB336JdIJ9VOMtROhnp-45" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="0uB336JdIJ9VOMtROhnp-1" source="0uB336JdIJ9VOMtROhnp-17" edge="1">
          <mxGeometry x="942.2588734567901" y="250" width="100" height="100" as="geometry">
            <mxPoint x="812.2588734567898" y="339.3942901234568" as="sourcePoint" />
            <mxPoint x="675" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Azure JWT Token Generation" id="im_EW8Jjd061oKhY7kFx">
    <mxGraphModel dx="1038" dy="947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-0" />
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-1" parent="0e6dBhuO4_zsrkF-XCv_-0" />
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="40" y="-40" width="1390" height="870" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-6" value="CLIENT" style="shadow=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="110" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-8" value="ValidationRequestFilter" style="shadow=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="260" y="60" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-14" value="Validation Controller" style="shadow=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="450" y="60" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-18" value="PING Validation Service" style="shadow=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="630" y="60" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-19" value="" style="edgeStyle=none;endArrow=none;strokeWidth=3;strokeColor=#666666;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry x="655.4878472222224" y="164.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="720.0333333333333" y="120" as="sourcePoint" />
            <mxPoint x="720" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-20" value="JwtTokenUtil" style="shadow=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="830" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-39" value="Generating JWT Token from PING" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="50" y="-10" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-47" value="" style="edgeStyle=none;endArrow=none;strokeWidth=3;strokeColor=#666666;entryX=0.086;entryY=0.996;entryDx=0;entryDy=0;entryPerimeter=0;" parent="0e6dBhuO4_zsrkF-XCv_-1" target="0e6dBhuO4_zsrkF-XCv_-2" edge="1">
          <mxGeometry x="95.4878472222224" y="164.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="160.0333333333333" y="120" as="sourcePoint" />
            <mxPoint x="160" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-48" value="" style="edgeStyle=none;endArrow=none;strokeWidth=3;strokeColor=#666666;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry x="255.4878472222224" y="164.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="320.0333333333333" y="120" as="sourcePoint" />
            <mxPoint x="320" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-49" value="" style="edgeStyle=none;endArrow=none;strokeWidth=3;strokeColor=#666666;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry x="455.4878472222224" y="164.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="520.0333333333333" y="120" as="sourcePoint" />
            <mxPoint x="520" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-50" value="" style="edgeStyle=none;endArrow=none;strokeWidth=3;strokeColor=#666666;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry x="815.4878472222224" y="164.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="880.0333333333333" y="120" as="sourcePoint" />
            <mxPoint x="880" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-51" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="160" y="160" as="sourcePoint" />
            <mxPoint x="320" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-52" value="&lt;font style=&quot;font-size: 12px&quot;&gt;1. POST /validate with token&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="150" y="130" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-53" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;dashed=1;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="180" as="sourcePoint" />
            <mxPoint x="160" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-54" value="&lt;font style=&quot;font-size: 12px&quot;&gt;2. No token/ Invalid token&lt;br&gt;Forward request to Login screen&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="140" y="195" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-55" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="240" as="sourcePoint" />
            <mxPoint x="520" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-56" value="3. Validate PING token by&lt;br&gt;invoking the PING REST &lt;br&gt;endpoint," style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="340" y="195" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-57" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="270" as="sourcePoint" />
            <mxPoint x="720" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-58" value="4. Get the UserDetails&lt;br&gt;&amp;nbsp;from the introspect / info endpoints." style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="510" y="235" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-60" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="360" as="sourcePoint" />
            <mxPoint x="880" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-61" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;dashed=1;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="720" y="310" as="sourcePoint" />
            <mxPoint x="520" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-62" value="5. Call generateJWTToken(UserDetails) &lt;br&gt;method to generate a valid token." style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="600" y="390" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-63" value="Redis Utils" style="shadow=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="990" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-64" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;dashed=1;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="880" y="430.0000000000002" as="sourcePoint" />
            <mxPoint x="520" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-65" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="489.9999999999998" as="sourcePoint" />
            <mxPoint x="1040" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-66" value="" style="edgeStyle=none;endArrow=none;strokeWidth=3;strokeColor=#666666;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry x="975.4878472222224" y="164.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="1040.0333333333333" y="120" as="sourcePoint" />
            <mxPoint x="1040" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-67" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;dashed=1;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="540.0000000000002" as="sourcePoint" />
            <mxPoint x="520" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-68" value="6. Save the PING token and JWT token in Cache. Use TTL to expire the JWT token" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="540" y="460" width="460" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-69" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;entryX=-0.004;entryY=0.142;entryDx=0;entryDy=0;entryPerimeter=0;" parent="0e6dBhuO4_zsrkF-XCv_-1" target="0e6dBhuO4_zsrkF-XCv_-70" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="619.9999999999998" as="sourcePoint" />
            <mxPoint x="1250" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-70" value="Backend Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="1290" y="590" width="105" height="200" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-71" value="7. Populate the JWT token in the header and forward the request to backend service" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="660" y="630" width="460" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-74" value="" style="endArrow=classic;html=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#666666;strokeWidth=3;" parent="0e6dBhuO4_zsrkF-XCv_-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1290" y="760" as="sourcePoint" />
            <mxPoint x="160" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0e6dBhuO4_zsrkF-XCv_-77" value="8. Process the request and provide the response back to the Client" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0e6dBhuO4_zsrkF-XCv_-1" vertex="1">
          <mxGeometry x="485" y="770" width="370" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="App to App Authentication Using WSO2" id="DHBIQSAZDD0HRAv7MLow">
    <mxGraphModel dx="1438" dy="947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-0" />
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-1" parent="IHjuJvGiz-Ti7kw_Zy61-0" />
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="-10" y="-30" width="1160" height="740" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-3" value="" style="fillColor=#CCD5EB" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="60.6" y="120" width="1009.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-4" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-5" value="{POST}&#xa;/login&#xa;/validate&#xa;" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="IHjuJvGiz-Ti7kw_Zy61-1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-6" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-7" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="342.5" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-8" value="APIM Ext Cache" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="295" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-9" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-8" target="IHjuJvGiz-Ti7kw_Zy61-7" edge="1">
          <mxGeometry x="272.3350694444445" y="165" width="100" height="100" as="geometry">
            <mxPoint x="347.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="347.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-10" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="IHjuJvGiz-Ti7kw_Zy61-1" edge="1">
          <mxGeometry x="220" y="92" width="100" height="100" as="geometry">
            <mxPoint x="210" y="179.5" as="sourcePoint" />
            <mxPoint x="340" y="179.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-11" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1" parent="IHjuJvGiz-Ti7kw_Zy61-1" edge="1">
          <mxGeometry x="220" y="172.25887345679013" width="100" height="100" as="geometry">
            <mxPoint x="210" y="259.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="259.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-12" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1" parent="IHjuJvGiz-Ti7kw_Zy61-1" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="110" y="279.7588734567901" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-13" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;dashed=1;entryX=-0.178;entryY=0.099;entryDx=0;entryDy=0;entryPerimeter=0;" parent="IHjuJvGiz-Ti7kw_Zy61-1" target="IHjuJvGiz-Ti7kw_Zy61-16" edge="1">
          <mxGeometry x="385.45524691358025" y="113.91550925925924" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="201.20563271604937" as="sourcePoint" />
            <mxPoint x="462.5" y="201.20563271604937" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-14" value="Auth/&#xa;Authorization&#xa;Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="462.2839506172839" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-15" value="" style="edgeStyle=none;endArrow=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-14" target="IHjuJvGiz-Ti7kw_Zy61-16" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-16" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="509.78" y="180" width="10" height="230" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-17" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="670" y="240" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-18" value="Redis &#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="622.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-19" value="" style="edgeStyle=none;endArrow=none;dashed=1;" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-18" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="676" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-20" value="Azure Key Vault&#xa;Assertion of WSO2&#xa;Token" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="750" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-21" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-20" target="IHjuJvGiz-Ti7kw_Zy61-22" edge="1">
          <mxGeometry x="727.3350694444446" y="165" width="100" height="100" as="geometry">
            <mxPoint x="802.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="802.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-22" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="797.5" y="240" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-23" value="validate()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-16" target="IHjuJvGiz-Ti7kw_Zy61-17" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="640" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="250" />
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-24" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-17" target="IHjuJvGiz-Ti7kw_Zy61-16" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="280" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="593" y="348" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-25" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-6" target="IHjuJvGiz-Ti7kw_Zy61-4" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-26" value="validate()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="IHjuJvGiz-Ti7kw_Zy61-1" edge="1">
          <mxGeometry x="550" y="220.7361111111111" width="100" height="100" as="geometry">
            <mxPoint x="680" y="250.1304012345679" as="sourcePoint" />
            <mxPoint x="797.4999999999999" y="250.1304012345679" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-27" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="IHjuJvGiz-Ti7kw_Zy61-1" edge="1">
          <mxGeometry x="560" y="260.80277777777775" width="100" height="100" as="geometry">
            <mxPoint x="797.4999999999999" y="280.19706790123456" as="sourcePoint" />
            <mxPoint x="680" y="280.19706790123456" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-28" value="" style="ellipse;fillColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="802.5000000000001" y="260.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-29" value="- Import WSO2 service token &#xa;    into Azure Key Vault.&#xa;&#xa;- Assert in-coming token with&#xa;    tokens defined in &#xa;    Azure Key Vault " style="shape=note;align=left" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="840" y="470" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-30" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-29" target="IHjuJvGiz-Ti7kw_Zy61-28" edge="1">
          <mxGeometry x="1030" y="180" width="100" height="100" as="geometry">
            <mxPoint x="1030" y="280" as="sourcePoint" />
            <mxPoint x="1130" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-31" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-32" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=right" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-16" target="IHjuJvGiz-Ti7kw_Zy61-31" edge="1">
          <mxGeometry x="190" y="329.75887345679007" width="100" height="100" as="geometry">
            <mxPoint x="500" y="310" as="sourcePoint" />
            <mxPoint x="220" y="370" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-33" value="&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22Header%20Populated%20with%20USER_ID%26lt%3Bbr%26gt%3Band%20Authorization%20details%22%20style%3D%22edgeLabel%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3B%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22327.78395061728406%22%20y%3D%221089.571428571429%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3EH&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="IHjuJvGiz-Ti7kw_Zy61-32" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-35" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-34" value="HEADER with CLAIMS&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="IHjuJvGiz-Ti7kw_Zy61-32" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-67" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-35" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-4" target="IHjuJvGiz-Ti7kw_Zy61-31" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-36" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-31" edge="1">
          <mxGeometry x="60" y="310" width="100" height="100" as="geometry">
            <mxPoint x="60" y="410" as="sourcePoint" />
            <mxPoint x="150" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-37" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="IHjuJvGiz-Ti7kw_Zy61-1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181.20563271604937" y="280" as="sourcePoint" />
            <mxPoint x="181.20563271604937" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-38" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-7" edge="1">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="451.7361111111112" y="284.6971450617284" as="sourcePoint" />
            <mxPoint x="348" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-39" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="IHjuJvGiz-Ti7kw_Zy61-1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-40" value="API Token&#xa;  Authentication / Authorization" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-41" value="Initial Flow with valid WSO2 Service Token" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="152.5" y="420" width="257.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-42" value="-Response caching /validate JWT&#xa;&#xa;-Valid WSO2 Token or JWT token&#xa;&#xa;-If valid service token generate a JWT &#xa;token with custom expiry.&#xa;&#xa;- Populate Request HEADER &#xa;    with USER_ID + CLAIMS and&#xa; forward request to backend K8 service.&#xa;&#xa;-APIM Response Header with JWT token" style="shape=note;align=left" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="597.5" y="470" width="222.5" height="230" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-43" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.722;exitY=0.946;exitDx=0;exitDy=0;exitPerimeter=0;" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-16" target="IHjuJvGiz-Ti7kw_Zy61-42" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-44" value="" style="ellipse;fillColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="519.7800000000001" y="390.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-45" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-7" target="IHjuJvGiz-Ti7kw_Zy61-3" edge="1">
          <mxGeometry x="350" y="290" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="252" as="sourcePoint" />
            <mxPoint x="509.78395061728384" y="252" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-46" value="Authorization DB&#xa;Claims DB" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="890" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-47" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-46" target="IHjuJvGiz-Ti7kw_Zy61-48" edge="1">
          <mxGeometry x="877.3350694444446" y="165.3" width="100" height="100" as="geometry">
            <mxPoint x="952.5" y="110.3" as="sourcePoint" />
            <mxPoint x="952.5761959876544" y="165.3" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-48" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="IHjuJvGiz-Ti7kw_Zy61-1" vertex="1">
          <mxGeometry x="940" y="280.15" width="10" height="49.69" as="geometry" />
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-49" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-17" edge="1">
          <mxGeometry x="942.2588734567901" y="250" width="100" height="100" as="geometry">
            <mxPoint x="812.2588734567898" y="339.3942901234568" as="sourcePoint" />
            <mxPoint x="675" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-50" value="getClaim()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;exitX=1;exitY=0.42;exitDx=0;exitDy=0;exitPerimeter=0;" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-17" edge="1">
          <mxGeometry x="692.5" y="265.2361111111111" width="100" height="100" as="geometry">
            <mxPoint x="822.5" y="294.6304012345679" as="sourcePoint" />
            <mxPoint x="940" y="294.6304012345679" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-51" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.72;entryY=0.62;entryDx=0;entryDy=0;entryPerimeter=0;" parent="IHjuJvGiz-Ti7kw_Zy61-1" source="IHjuJvGiz-Ti7kw_Zy61-48" target="IHjuJvGiz-Ti7kw_Zy61-17" edge="1">
          <mxGeometry x="560" y="290" width="100" height="100" as="geometry">
            <mxPoint x="680" y="358" as="sourcePoint" />
            <mxPoint x="700" y="320" as="targetPoint" />
            <Array as="points">
              <mxPoint x="940" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IHjuJvGiz-Ti7kw_Zy61-52" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="IHjuJvGiz-Ti7kw_Zy61-1" target="IHjuJvGiz-Ti7kw_Zy61-3" edge="1">
          <mxGeometry x="955.2588734567901" y="260" width="100" height="100" as="geometry">
            <mxPoint x="945.5" y="329.84000000000015" as="sourcePoint" />
            <mxPoint x="946" y="346.59848557055875" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Copy of Login Flow with JWT" id="nCIyqfxaQqdYX7hdZaLx">
    <mxGraphModel dx="1438" dy="947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-0" />
        <mxCell id="FXZz9XqRezBrOM3pfQBz-1" parent="FXZz9XqRezBrOM3pfQBz-0" />
        <mxCell id="FXZz9XqRezBrOM3pfQBz-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="-10" y="-30" width="880" height="650" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-3" value="" style="fillColor=#CCD5EB" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="60.6" y="120" width="709.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-4" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-5" value="{POST}&#xa;/login&#xa;/validate&#xa;" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="FXZz9XqRezBrOM3pfQBz-1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-6" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-7" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="342.5" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-8" value="APIM Ext Cache" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="295" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-9" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-8" target="FXZz9XqRezBrOM3pfQBz-7" edge="1">
          <mxGeometry x="272.3350694444445" y="165" width="100" height="100" as="geometry">
            <mxPoint x="347.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="347.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-10" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="FXZz9XqRezBrOM3pfQBz-1" edge="1">
          <mxGeometry x="220" y="92" width="100" height="100" as="geometry">
            <mxPoint x="210" y="179.5" as="sourcePoint" />
            <mxPoint x="340" y="179.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-11" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1" parent="FXZz9XqRezBrOM3pfQBz-1" edge="1">
          <mxGeometry x="220" y="172.25887345679013" width="100" height="100" as="geometry">
            <mxPoint x="210" y="259.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="259.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-12" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1" parent="FXZz9XqRezBrOM3pfQBz-1" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="110" y="279.7588734567901" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-13" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;dashed=1;entryX=-0.178;entryY=0.099;entryDx=0;entryDy=0;entryPerimeter=0;" parent="FXZz9XqRezBrOM3pfQBz-1" target="FXZz9XqRezBrOM3pfQBz-16" edge="1">
          <mxGeometry x="385.45524691358025" y="113.91550925925924" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="201.20563271604937" as="sourcePoint" />
            <mxPoint x="462.5" y="201.20563271604937" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-14" value="Auth /&#xa;Authorization &#xa;Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="462.2839506172839" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-15" value="" style="edgeStyle=none;endArrow=none" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-14" target="FXZz9XqRezBrOM3pfQBz-16" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-16" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="509.78" y="180" width="10" height="230" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-17" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="670" y="240" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-18" value="Redis &#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="622.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-19" value="" style="edgeStyle=none;endArrow=none;dashed=1;" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-18" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="676" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-20" value="Save / Retrieve  USER_ID Claims" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-16" target="FXZz9XqRezBrOM3pfQBz-17" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="640" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="250" />
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-21" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-17" target="FXZz9XqRezBrOM3pfQBz-16" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="280" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="593" y="348" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-22" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-6" target="FXZz9XqRezBrOM3pfQBz-4" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-23" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-24" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=right" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-16" target="FXZz9XqRezBrOM3pfQBz-23" edge="1">
          <mxGeometry x="190" y="329.75887345679007" width="100" height="100" as="geometry">
            <mxPoint x="500" y="310" as="sourcePoint" />
            <mxPoint x="220" y="370" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-25" value="&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22Header%20Populated%20with%20USER_ID%26lt%3Bbr%26gt%3Band%20Authorization%20details%22%20style%3D%22edgeLabel%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3B%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22327.78395061728406%22%20y%3D%221089.571428571429%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3EH&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FXZz9XqRezBrOM3pfQBz-24" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-35" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-26" value="HEADER with CLAIMS&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FXZz9XqRezBrOM3pfQBz-24" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-67" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-27" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-4" target="FXZz9XqRezBrOM3pfQBz-23" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-28" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=none" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-23" edge="1">
          <mxGeometry x="60" y="310" width="100" height="100" as="geometry">
            <mxPoint x="60" y="410" as="sourcePoint" />
            <mxPoint x="150" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-29" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="FXZz9XqRezBrOM3pfQBz-1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181.20563271604937" y="280" as="sourcePoint" />
            <mxPoint x="181.20563271604937" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-30" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-7" edge="1">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="451.7361111111112" y="284.6971450617284" as="sourcePoint" />
            <mxPoint x="348" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-31" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="FXZz9XqRezBrOM3pfQBz-1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-32" value="API Token&#xa;  Authentication / Authorization" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-33" value="Subsequent flow with PING token" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="152.5" y="420" width="237.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-34" value="-Response caching /validate JWT&#xa;&#xa;- Use PING token from REDIS&#xa;    to generate JWT token&#xa;&#xa;-Switch between User JWT &#xa;    and impersonated JWT&#xa;&#xa;- Populate Request HEADER &#xa;    with USER_ID + CLAIMS and&#xa; forward request to backend K8 service.&#xa;" style="shape=note;align=left" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="597.5" y="440" width="222.5" height="170" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-35" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.722;exitY=0.946;exitDx=0;exitDy=0;exitPerimeter=0;" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-16" target="FXZz9XqRezBrOM3pfQBz-34" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-36" value="" style="ellipse;fillColor=none" parent="FXZz9XqRezBrOM3pfQBz-1" vertex="1">
          <mxGeometry x="519.7800000000001" y="390.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-37" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-7" target="FXZz9XqRezBrOM3pfQBz-3" edge="1">
          <mxGeometry x="350" y="290" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="252" as="sourcePoint" />
            <mxPoint x="509.78395061728384" y="252" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FXZz9XqRezBrOM3pfQBz-38" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="FXZz9XqRezBrOM3pfQBz-1" source="FXZz9XqRezBrOM3pfQBz-17" edge="1">
          <mxGeometry x="942.2588734567901" y="250" width="100" height="100" as="geometry">
            <mxPoint x="812.2588734567898" y="339.3942901234568" as="sourcePoint" />
            <mxPoint x="675" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Login Flow with JWT" id="og3_Lr_5jNfGTDkobUTM">
    <mxGraphModel dx="1438" dy="947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-0" />
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-1" parent="aaqyTxDwpnz_YPg8lyPx-0" />
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="-10" y="-30" width="880" height="650" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-3" value="" style="fillColor=#CCD5EB" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="60.6" y="120" width="709.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-4" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-5" value="{POST}&#xa;/login&#xa;/validate&#xa;" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="aaqyTxDwpnz_YPg8lyPx-1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-6" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-7" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="342.5" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-8" value="APIM Ext Cache" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="295" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-9" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-8" target="aaqyTxDwpnz_YPg8lyPx-7" edge="1">
          <mxGeometry x="272.3350694444445" y="165" width="100" height="100" as="geometry">
            <mxPoint x="347.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="347.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-10" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="aaqyTxDwpnz_YPg8lyPx-1" edge="1">
          <mxGeometry x="220" y="92" width="100" height="100" as="geometry">
            <mxPoint x="210" y="179.5" as="sourcePoint" />
            <mxPoint x="340" y="179.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-11" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1" parent="aaqyTxDwpnz_YPg8lyPx-1" edge="1">
          <mxGeometry x="220" y="172.25887345679013" width="100" height="100" as="geometry">
            <mxPoint x="210" y="259.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="259.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-12" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1" parent="aaqyTxDwpnz_YPg8lyPx-1" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="110" y="279.7588734567901" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-13" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;dashed=1;entryX=-0.178;entryY=0.099;entryDx=0;entryDy=0;entryPerimeter=0;" parent="aaqyTxDwpnz_YPg8lyPx-1" target="aaqyTxDwpnz_YPg8lyPx-16" edge="1">
          <mxGeometry x="385.45524691358025" y="113.91550925925924" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="201.20563271604937" as="sourcePoint" />
            <mxPoint x="462.5" y="201.20563271604937" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-14" value="JWT Validation&#xa; Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="462.2839506172839" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-15" value="" style="edgeStyle=none;endArrow=none" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-14" target="aaqyTxDwpnz_YPg8lyPx-16" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-16" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="509.78" y="180" width="10" height="230" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-17" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="670" y="240" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-18" value="Redis &#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="622.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-19" value="" style="edgeStyle=none;endArrow=none;dashed=1;" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-18" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="676" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-23" value="Save / Retrieve  Claims" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-16" target="aaqyTxDwpnz_YPg8lyPx-17" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="640" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="250" />
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-24" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-17" target="aaqyTxDwpnz_YPg8lyPx-16" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="280" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="593" y="348" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-25" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-6" target="aaqyTxDwpnz_YPg8lyPx-4" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-31" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-32" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=right" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-16" target="aaqyTxDwpnz_YPg8lyPx-31" edge="1">
          <mxGeometry x="190" y="329.75887345679007" width="100" height="100" as="geometry">
            <mxPoint x="500" y="310" as="sourcePoint" />
            <mxPoint x="220" y="370" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-33" value="&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22Header%20Populated%20with%20USER_ID%26lt%3Bbr%26gt%3Band%20Authorization%20details%22%20style%3D%22edgeLabel%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3B%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22327.78395061728406%22%20y%3D%221089.571428571429%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3EH&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="aaqyTxDwpnz_YPg8lyPx-32" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-35" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-34" value="HEADER with CLAIMS&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="aaqyTxDwpnz_YPg8lyPx-32" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-67" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-35" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-4" target="aaqyTxDwpnz_YPg8lyPx-31" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-36" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=none" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-31" edge="1">
          <mxGeometry x="60" y="310" width="100" height="100" as="geometry">
            <mxPoint x="60" y="410" as="sourcePoint" />
            <mxPoint x="150" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-37" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="aaqyTxDwpnz_YPg8lyPx-1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181.20563271604937" y="280" as="sourcePoint" />
            <mxPoint x="181.20563271604937" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-38" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-7" edge="1">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="451.7361111111112" y="284.6971450617284" as="sourcePoint" />
            <mxPoint x="348" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-39" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="aaqyTxDwpnz_YPg8lyPx-1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-40" value="API Token&#xa;  Authentication / Authorization" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-41" value="Flow with valid JWT Token" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="152.5" y="420" width="237.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-42" value="-Response caching /validate JWT&#xa;&#xa;-Switch between User JWT &#xa;    and impersonated JWT&#xa;&#xa;- Populate Request HEADER &#xa;    with USER_ID + CLAIMS and&#xa; forward request to backend K8 service.&#xa;" style="shape=note;align=left" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="597.5" y="470" width="222.5" height="140" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-43" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.722;exitY=0.946;exitDx=0;exitDy=0;exitPerimeter=0;" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-16" target="aaqyTxDwpnz_YPg8lyPx-42" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-44" value="" style="ellipse;fillColor=none" parent="aaqyTxDwpnz_YPg8lyPx-1" vertex="1">
          <mxGeometry x="519.7800000000001" y="390.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-45" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-7" target="aaqyTxDwpnz_YPg8lyPx-3" edge="1">
          <mxGeometry x="350" y="290" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="252" as="sourcePoint" />
            <mxPoint x="509.78395061728384" y="252" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aaqyTxDwpnz_YPg8lyPx-49" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="aaqyTxDwpnz_YPg8lyPx-1" source="aaqyTxDwpnz_YPg8lyPx-17" edge="1">
          <mxGeometry x="942.2588734567901" y="250" width="100" height="100" as="geometry">
            <mxPoint x="812.2588734567898" y="339.3942901234568" as="sourcePoint" />
            <mxPoint x="675" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="App tp App Service Token( Gen by WSO2)" id="FE-45ES9zPw1W-Q0zrpn">
    <mxGraphModel dx="1438" dy="947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-0" />
        <mxCell id="o_8xt5maIAsd2bmJY5rV-1" parent="o_8xt5maIAsd2bmJY5rV-0" />
        <mxCell id="o_8xt5maIAsd2bmJY5rV-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="-10" y="-30" width="1100" height="650" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-3" value="" style="fillColor=#CCD5EB" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="60.6" y="120" width="879.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-4" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-5" value="{POST}&#xa;/login&#xa;/validate&#xa;" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="o_8xt5maIAsd2bmJY5rV-1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-6" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-7" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="342.5" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-8" value="APIM Ext Cache" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="295" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-9" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-8" target="o_8xt5maIAsd2bmJY5rV-7" edge="1">
          <mxGeometry x="272.3350694444445" y="165" width="100" height="100" as="geometry">
            <mxPoint x="347.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="347.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-10" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="o_8xt5maIAsd2bmJY5rV-1" edge="1">
          <mxGeometry x="220" y="92" width="100" height="100" as="geometry">
            <mxPoint x="210" y="179.5" as="sourcePoint" />
            <mxPoint x="340" y="179.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-11" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1" parent="o_8xt5maIAsd2bmJY5rV-1" edge="1">
          <mxGeometry x="220" y="172.25887345679013" width="100" height="100" as="geometry">
            <mxPoint x="210" y="259.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="259.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-12" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1" parent="o_8xt5maIAsd2bmJY5rV-1" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="110" y="279.7588734567901" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-13" value="validate()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;dashed=1;entryX=-0.178;entryY=0.099;entryDx=0;entryDy=0;entryPerimeter=0;" parent="o_8xt5maIAsd2bmJY5rV-1" target="o_8xt5maIAsd2bmJY5rV-16" edge="1">
          <mxGeometry x="385.45524691358025" y="113.91550925925924" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="201.20563271604937" as="sourcePoint" />
            <mxPoint x="462.5" y="201.20563271604937" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-14" value="Auth / &#xa;Autharization &#xa;Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="462.2839506172839" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-15" value="" style="edgeStyle=none;endArrow=none" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-14" target="o_8xt5maIAsd2bmJY5rV-16" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-16" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="509.78" y="180" width="10" height="230" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-17" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="670" y="240" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-18" value="Redis &#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="622.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-19" value="" style="edgeStyle=none;endArrow=none;dashed=1;" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-18" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="676" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-20" value="Save / Retrieve  Claims" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-16" target="o_8xt5maIAsd2bmJY5rV-17" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="640" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="250" />
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-21" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-17" target="o_8xt5maIAsd2bmJY5rV-16" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="280" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="593" y="348" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-22" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-6" target="o_8xt5maIAsd2bmJY5rV-4" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-23" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-24" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=right" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-16" target="o_8xt5maIAsd2bmJY5rV-23" edge="1">
          <mxGeometry x="190" y="329.75887345679007" width="100" height="100" as="geometry">
            <mxPoint x="500" y="310" as="sourcePoint" />
            <mxPoint x="220" y="370" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-25" value="&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22Header%20Populated%20with%20USER_ID%26lt%3Bbr%26gt%3Band%20Authorization%20details%22%20style%3D%22edgeLabel%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3B%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22327.78395061728406%22%20y%3D%221089.571428571429%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3EH&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="o_8xt5maIAsd2bmJY5rV-24" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-35" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-26" value="HEADER with CLAIMS&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="o_8xt5maIAsd2bmJY5rV-24" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-67" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-27" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-4" target="o_8xt5maIAsd2bmJY5rV-23" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-28" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=none" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-23" edge="1">
          <mxGeometry x="60" y="310" width="100" height="100" as="geometry">
            <mxPoint x="60" y="410" as="sourcePoint" />
            <mxPoint x="150" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-29" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="o_8xt5maIAsd2bmJY5rV-1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181.20563271604937" y="280" as="sourcePoint" />
            <mxPoint x="181.20563271604937" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-30" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-7" edge="1">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="451.7361111111112" y="284.6971450617284" as="sourcePoint" />
            <mxPoint x="348" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-31" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="o_8xt5maIAsd2bmJY5rV-1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-32" value="API Token&#xa;  Authentication / Authorization" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-33" value="Flow with valid WSO2 Service Token" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="152.5" y="420" width="237.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-34" value="-Response caching /validate JWT&#xa;&#xa;-Switch between User JWT &#xa;    and impersonated JWT&#xa;&#xa;- Populate Request HEADER &#xa;    with USER_ID + CLAIMS and&#xa; forward request to backend K8 service.&#xa;" style="shape=note;align=left" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="597.5" y="470" width="222.5" height="140" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-35" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.722;exitY=0.946;exitDx=0;exitDy=0;exitPerimeter=0;" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-16" target="o_8xt5maIAsd2bmJY5rV-34" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-36" value="" style="ellipse;fillColor=none" parent="o_8xt5maIAsd2bmJY5rV-1" vertex="1">
          <mxGeometry x="519.7800000000001" y="390.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-37" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-7" target="o_8xt5maIAsd2bmJY5rV-3" edge="1">
          <mxGeometry x="350" y="290" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="252" as="sourcePoint" />
            <mxPoint x="509.78395061728384" y="252" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_8xt5maIAsd2bmJY5rV-38" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="o_8xt5maIAsd2bmJY5rV-1" source="o_8xt5maIAsd2bmJY5rV-17" edge="1">
          <mxGeometry x="942.2588734567901" y="250" width="100" height="100" as="geometry">
            <mxPoint x="812.2588734567898" y="339.3942901234568" as="sourcePoint" />
            <mxPoint x="675" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Logoff" id="eCyq1SVehvGg-jEJyjfq">
    <mxGraphModel dx="1438" dy="947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-0" />
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-1" parent="Qp-OFPHT2ogm7emzJ9RZ-0" />
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="-10" y="-30" width="1040" height="670" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-3" value="" style="fillColor=#CCD5EB" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="60.6" y="120" width="869.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-4" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-5" value="/logoff" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="Qp-OFPHT2ogm7emzJ9RZ-1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-6" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-10" value="logoff()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="Qp-OFPHT2ogm7emzJ9RZ-1" edge="1">
          <mxGeometry x="219.78" y="122.5" width="100" height="100" as="geometry">
            <mxPoint x="209.78" y="210" as="sourcePoint" />
            <mxPoint x="509.78" y="210.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-11" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1;entryX=-0.192;entryY=0.888;entryDx=0;entryDy=0;entryPerimeter=0;" parent="Qp-OFPHT2ogm7emzJ9RZ-1" target="Qp-OFPHT2ogm7emzJ9RZ-16" edge="1">
          <mxGeometry x="220" y="296.78887345679016" width="100" height="100" as="geometry">
            <mxPoint x="210" y="384.28887345679016" as="sourcePoint" />
            <mxPoint x="340" y="384.28887345679016" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-12" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1" parent="Qp-OFPHT2ogm7emzJ9RZ-1" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="110" y="279.7588734567901" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-14" value="JWT Validation&#xa; Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="462.2839506172839" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-15" value="" style="edgeStyle=none;endArrow=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-14" target="Qp-OFPHT2ogm7emzJ9RZ-16" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-16" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="509.78" y="180" width="10" height="230" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-17" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="670" y="200" width="10" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-18" value="Redis &#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="622.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-19" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-18" target="Qp-OFPHT2ogm7emzJ9RZ-17" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="676" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-20" value="PING / Azure AD" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="750" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-21" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-20" target="Qp-OFPHT2ogm7emzJ9RZ-22" edge="1">
          <mxGeometry x="727.3350694444446" y="165" width="100" height="100" as="geometry">
            <mxPoint x="802.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="802.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-22" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="797.5" y="290" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-23" value="logoff()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-16" target="Qp-OFPHT2ogm7emzJ9RZ-17" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="640" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="250" />
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-24" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-17" target="Qp-OFPHT2ogm7emzJ9RZ-16" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="280" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="620" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-25" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-6" target="Qp-OFPHT2ogm7emzJ9RZ-4" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-26" value="logoff()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;exitX=1.04;exitY=0.593;exitDx=0;exitDy=0;exitPerimeter=0;" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-16" edge="1">
          <mxGeometry x="550" y="280.6161111111111" width="100" height="100" as="geometry">
            <mxPoint x="680" y="310.0104012345679" as="sourcePoint" />
            <mxPoint x="797.4999999999999" y="310.0104012345679" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-27" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-22" edge="1">
          <mxGeometry x="399.78" y="330.60277777777776" width="100" height="100" as="geometry">
            <mxPoint x="637.2799999999999" y="349.9970679012346" as="sourcePoint" />
            <mxPoint x="519.78" y="349.9970679012346" as="targetPoint" />
            <Array as="points">
              <mxPoint x="660" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-28" value="" style="ellipse;fillColor=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="797.5000000000001" y="300.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-29" value=" - user token is revoked&#xa;" style="shape=note;align=left" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="840" y="470" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-30" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-29" target="Qp-OFPHT2ogm7emzJ9RZ-28" edge="1">
          <mxGeometry x="1030" y="180" width="100" height="100" as="geometry">
            <mxPoint x="1030" y="280" as="sourcePoint" />
            <mxPoint x="1130" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-31" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-35" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-4" target="Qp-OFPHT2ogm7emzJ9RZ-31" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-36" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-31" edge="1">
          <mxGeometry x="60" y="310" width="100" height="100" as="geometry">
            <mxPoint x="60" y="410" as="sourcePoint" />
            <mxPoint x="150" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-37" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="Qp-OFPHT2ogm7emzJ9RZ-1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181.20563271604937" y="280" as="sourcePoint" />
            <mxPoint x="181.20563271604937" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-39" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="Qp-OFPHT2ogm7emzJ9RZ-1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-40" value="API Token&#xa;  Authentication / Authorization" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-41" value="Logoff Flow" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="152.5" y="420" width="87.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-42" value="- Invalidate JWT token and remove.&#xa;&#xa;-Invalidate PING token and remove from&#xa; REDIS store.&#xa;&#xa;Note: This could be done using&#xa;     Azure Event HUB" style="shape=note;align=left" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="597.5" y="470" width="222.5" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-43" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.722;exitY=0.946;exitDx=0;exitDy=0;exitPerimeter=0;" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-16" target="Qp-OFPHT2ogm7emzJ9RZ-42" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-44" value="" style="ellipse;fillColor=none" parent="Qp-OFPHT2ogm7emzJ9RZ-1" vertex="1">
          <mxGeometry x="519.7800000000001" y="390.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-49" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="Qp-OFPHT2ogm7emzJ9RZ-1" source="Qp-OFPHT2ogm7emzJ9RZ-17" edge="1">
          <mxGeometry x="942.2588734567901" y="250" width="100" height="100" as="geometry">
            <mxPoint x="812.2588734567898" y="339.3942901234568" as="sourcePoint" />
            <mxPoint x="675" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qp-OFPHT2ogm7emzJ9RZ-54" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="Qp-OFPHT2ogm7emzJ9RZ-1" edge="1">
          <mxGeometry x="1069.28887345679" y="300" width="100" height="100" as="geometry">
            <mxPoint x="802.03" y="339.9999999999998" as="sourcePoint" />
            <mxPoint x="802" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Logoff Using AZ Event HUB" id="jMUtmP349VF-x7sVCsRW">
    <mxGraphModel dx="1438" dy="947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1.5" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-0" />
        <mxCell id="5Khv3PT7rhF-SER2SsGG-1" parent="5Khv3PT7rhF-SER2SsGG-0" />
        <mxCell id="5Khv3PT7rhF-SER2SsGG-2" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="-10" y="-30" width="1040" height="670" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-3" value="" style="fillColor=#CCD5EB" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="60.6" y="120" width="869.4" height="320" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-4" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="200" y="150" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-5" value="/logoff" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right" parent="5Khv3PT7rhF-SER2SsGG-1" edge="1">
          <mxGeometry x="110" y="49.5" width="100" height="100" as="geometry">
            <mxPoint x="110" y="149.5" as="sourcePoint" />
            <mxPoint x="200" y="149.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-6" value="Azure API Gateway" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-7" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="342.5" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-8" value="JWT Validation&#xa;Service" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="295" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-9" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-8" target="5Khv3PT7rhF-SER2SsGG-7" edge="1">
          <mxGeometry x="272.3350694444445" y="165" width="100" height="100" as="geometry">
            <mxPoint x="347.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="347.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-10" value="logoff()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom" parent="5Khv3PT7rhF-SER2SsGG-1" edge="1">
          <mxGeometry x="220" y="92" width="100" height="100" as="geometry">
            <mxPoint x="210" y="179.5" as="sourcePoint" />
            <mxPoint x="340" y="179.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-11" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;startArrow=classic;dashed=1" parent="5Khv3PT7rhF-SER2SsGG-1" edge="1">
          <mxGeometry x="220" y="172.25887345679013" width="100" height="100" as="geometry">
            <mxPoint x="210" y="259.7588734567901" as="sourcePoint" />
            <mxPoint x="340" y="259.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-12" value="" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;labelPosition=left;align=right;endArrow=none;startArrow=classic;dashed=1" parent="5Khv3PT7rhF-SER2SsGG-1" edge="1">
          <mxGeometry x="110" y="179.75887345679013" width="100" height="100" as="geometry">
            <mxPoint x="110" y="279.7588734567901" as="sourcePoint" />
            <mxPoint x="200" y="279.7588734567901" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-13" value="logoff()" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;dashed=1;entryX=-0.178;entryY=0.099;entryDx=0;entryDy=0;entryPerimeter=0;" parent="5Khv3PT7rhF-SER2SsGG-1" target="5Khv3PT7rhF-SER2SsGG-16" edge="1">
          <mxGeometry x="385.45524691358025" y="113.91550925925924" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="201.20563271604937" as="sourcePoint" />
            <mxPoint x="462.5" y="201.20563271604937" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-14" value="Azure Event Grid&#xa;to trigger /logoff &#xa;endpoint " style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="462.2839506172839" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-15" value="" style="edgeStyle=none;endArrow=none" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-14" target="5Khv3PT7rhF-SER2SsGG-16" edge="1">
          <mxGeometry x="437.042824074074" y="270" width="100" height="100" as="geometry">
            <mxPoint x="514.542824074074" y="219.99999999999997" as="sourcePoint" />
            <mxPoint x="514.542824074074" y="239.99999999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-16" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="509.78" y="180" width="10" height="230" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-17" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="670" y="200" width="10" height="90" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-18" value="Redis &#xa;(in-memory store)" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="622.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-19" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-18" target="5Khv3PT7rhF-SER2SsGG-17" edge="1">
          <mxGeometry x="614.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="674.6527777777778" y="110" as="sourcePoint" />
            <mxPoint x="676" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-20" value="PING / Azure AD" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="750" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-21" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-20" target="5Khv3PT7rhF-SER2SsGG-22" edge="1">
          <mxGeometry x="727.3350694444446" y="165" width="100" height="100" as="geometry">
            <mxPoint x="802.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="802.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-22" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="797.5" y="290" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-23" value="logoff()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-16" target="5Khv3PT7rhF-SER2SsGG-17" edge="1">
          <mxGeometry width="100" height="100" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="640" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="250" />
              <mxPoint x="590" y="270" />
            </Array>
            <mxPoint x="-15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-24" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-17" target="5Khv3PT7rhF-SER2SsGG-16" edge="1">
          <mxGeometry x="550" y="280" width="100" height="100" as="geometry">
            <mxPoint x="529.7839506172838" y="280" as="sourcePoint" />
            <mxPoint x="680" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="620" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-25" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-6" target="5Khv3PT7rhF-SER2SsGG-4" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="330" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-26" value="logoff()" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;exitX=1.04;exitY=0.593;exitDx=0;exitDy=0;exitPerimeter=0;" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-16" edge="1">
          <mxGeometry x="550" y="280.6161111111111" width="100" height="100" as="geometry">
            <mxPoint x="680" y="310.0104012345679" as="sourcePoint" />
            <mxPoint x="797.4999999999999" y="310.0104012345679" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-27" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1;verticalLabelPosition=bottom;verticalAlign=top;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-22" edge="1">
          <mxGeometry x="399.78" y="330.60277777777776" width="100" height="100" as="geometry">
            <mxPoint x="637.2799999999999" y="349.9970679012346" as="sourcePoint" />
            <mxPoint x="519.78" y="349.9970679012346" as="targetPoint" />
            <Array as="points">
              <mxPoint x="660" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-28" value="" style="ellipse;fillColor=none" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="797.5000000000001" y="300.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-29" value=" - user token is revoked&#xa;" style="shape=note;align=left" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="840" y="470" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-30" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-29" target="5Khv3PT7rhF-SER2SsGG-28" edge="1">
          <mxGeometry x="1030" y="180" width="100" height="100" as="geometry">
            <mxPoint x="1030" y="280" as="sourcePoint" />
            <mxPoint x="1130" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-31" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="200" y="360" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-35" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-4" target="5Khv3PT7rhF-SER2SsGG-31" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="50" y="400" as="sourcePoint" />
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-36" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=none" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-31" edge="1">
          <mxGeometry x="60" y="310" width="100" height="100" as="geometry">
            <mxPoint x="60" y="410" as="sourcePoint" />
            <mxPoint x="150" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-37" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;startArrow=open;endArrow=open;labelPosition=left;align=right" parent="5Khv3PT7rhF-SER2SsGG-1" edge="1">
          <mxGeometry x="61.20563271604938" y="290" width="100" height="100" as="geometry">
            <mxPoint x="181.20563271604937" y="280" as="sourcePoint" />
            <mxPoint x="181.20563271604937" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-38" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-7" edge="1">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="451.7361111111112" y="284.6971450617284" as="sourcePoint" />
            <mxPoint x="348" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-39" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="5Khv3PT7rhF-SER2SsGG-1" edge="1">
          <mxGeometry x="1174.0711805555559" y="210" width="100" height="100" as="geometry">
            <mxPoint x="1355" y="110" as="sourcePoint" />
            <mxPoint x="1355" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-40" value="API Token&#xa;  Authentication / Authorization" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="50" y="-10" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-41" value="Logoff Flow" style="rounded=1;fontStyle=1;fillColor=#FFD966;strokeColor=none" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="152.5" y="420" width="87.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-42" value="- Invalidate JWT token and remove.&#xa;&#xa;-Invalidate PING token and remove from&#xa; REDIS store.&#xa;&#xa;Note: This could be done using&#xa;     Azure Event HUB" style="shape=note;align=left" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="597.5" y="470" width="222.5" height="130" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-43" value="" style="edgeStyle=none;endArrow=none;dashed=1;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.722;exitY=0.946;exitDx=0;exitDy=0;exitPerimeter=0;" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-16" target="5Khv3PT7rhF-SER2SsGG-42" edge="1">
          <mxGeometry x="1040" y="190" width="100" height="100" as="geometry">
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="821.211965587625" y="316.04446751999035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-44" value="" style="ellipse;fillColor=none" parent="5Khv3PT7rhF-SER2SsGG-1" vertex="1">
          <mxGeometry x="519.7800000000001" y="390.0042901234568" width="9.999999999999886" height="10" as="geometry" />
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-45" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;verticalLabelPosition=top;verticalAlign=bottom;endArrow=none;" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-7" target="5Khv3PT7rhF-SER2SsGG-3" edge="1">
          <mxGeometry x="350" y="290" width="100" height="100" as="geometry">
            <mxPoint x="352.5" y="252" as="sourcePoint" />
            <mxPoint x="509.78395061728384" y="252" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-46" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="5Khv3PT7rhF-SER2SsGG-1" source="5Khv3PT7rhF-SER2SsGG-17" edge="1">
          <mxGeometry x="942.2588734567901" y="250" width="100" height="100" as="geometry">
            <mxPoint x="812.2588734567898" y="339.3942901234568" as="sourcePoint" />
            <mxPoint x="675" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Khv3PT7rhF-SER2SsGG-47" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="5Khv3PT7rhF-SER2SsGG-1" edge="1">
          <mxGeometry x="1069.28887345679" y="300" width="100" height="100" as="geometry">
            <mxPoint x="802.03" y="339.9999999999998" as="sourcePoint" />
            <mxPoint x="802" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
